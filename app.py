import streamlit as st
import google.generativeai as genai

# 1. åŸºæœ¬è¨­å®š
st.set_page_config(page_title="Fanspotè¦‹ç©ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ", layout="wide")
st.title("ğŸ¯ Fanspot æ¡ˆä»¶è¦‹ç©ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ")

# 2. æœ€æ–°APIã‚­ãƒ¼ï¼ˆç›´æ›¸ãã§æ¥ç¶šã‚’å®‰å®šã•ã›ã¾ã™ï¼‰
# ã‚‚ã—ã“ã‚Œã§ã‚‚404ãŒå‡ºã‚‹å ´åˆã¯ã€APIã‚­ãƒ¼è‡ªä½“ã®å•é¡Œãªã®ã§æ–°ã—ã„ã‚­ãƒ¼ã«å·®ã—æ›¿ãˆã¦ãã ã•ã„
genai.configure(api_key="AIzaSyDW-1zglX-8H3X9Zt2dVYXX76L0dSoG46c")

# 3. å…¥åŠ›ç”»é¢ï¼ˆã‚¹ãƒ—ã‚·ã‚’è¦‹ãªãã¦ã‚‚ã€ã“ã“ã§é …ç›®ã‚’å…¥åŠ›ã™ã‚Œã°OKï¼‰
st.markdown("### ğŸ“‹ ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³æ¡ä»¶ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„")
col1, col2 = st.columns(2)
with col1:
    period = st.number_input("æ–½ç­–æœŸé–“ (æœˆæ•°)", min_value=1, value=2)
    winners = st.number_input("å½“é¸è€…æ•°", min_value=0, value=10000)
    update = st.number_input("ãƒšãƒ¼ã‚¸æ›´æ–°å›æ•°", min_value=0, value=1)
with col2:
    is_iw = st.radio("ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ãƒˆã‚¦ã‚£ãƒ³", ["æœ‰ã‚Š", "ç„¡ã—"])
    has_ocr = st.radio("OCRè§£ææ©Ÿèƒ½", ["æœ‰ã‚Š", "ç„¡ã—"])
    campaign_detail = st.text_input("ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³å/å†…å®¹", value="ã‚ªãƒ­ãƒŠãƒŸãƒ³C ãƒ¬ã‚·ãƒ¼ãƒˆå¿œå‹Ÿ")

# 4. è¦‹ç©å®Ÿè¡Œãƒœã‚¿ãƒ³
if st.button("ğŸš€ è¦‹ç©ãƒ»åˆ†æã‚’å®Ÿè¡Œ"):
    try:
        model = genai.GenerativeModel('gemini-1.5-flash')
        
        # Pythonã‚³ãƒ¼ãƒ‰å†…ã«ã€Œè¦‹ç©ãƒ­ã‚¸ãƒƒã‚¯ã€ã‚’å®Œå…¨ã«å›ºå®š
        logic = f"""
        ã‚ãªãŸã¯ç†Ÿç·´ã®ãƒ—ãƒ©ãƒ³ãƒŠãƒ¼ã§ã™ã€‚ä»¥ä¸‹ã®æ¡ä»¶ã¨å˜ä¾¡ãƒ«ãƒ¼ãƒ«ã‚’å³å®ˆã—ã¦è¦‹ç©æ›¸ã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚
        
        ã€æ¡ä»¶ã€‘
        ãƒ»ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³ï¼š{campaign_detail}
        ãƒ»æœŸé–“ï¼š{period}ãƒ¶æœˆ
        ãƒ»å½“é¸æ•°ï¼š{winners}å
        ãƒ»ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ãƒˆã‚¦ã‚£ãƒ³ï¼š{is_iw}
        ãƒ»æ›´æ–°å›æ•°ï¼š{update}å›
        ãƒ»OCRï¼š{has_ocr}

        ã€å˜ä¾¡ãƒ«ãƒ¼ãƒ«ï¼ˆç¨æŠœï¼‰ã€‘
        1. åˆæœŸè²»ç”¨
           - FanspotåˆæœŸè¨­å®šï¼š3,500,000å††
           - ãƒ¬ã‚·ãƒ¼ãƒˆå¿œå‹Ÿå®Ÿè£…ï¼š1,000,000å††
           - OCRè§£æï¼š3,000,000å††ï¼ˆâ€»æœ‰ã‚Šã®å ´åˆï¼‰
